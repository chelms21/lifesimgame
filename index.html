<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Maple Mii Town — Full</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app">
    <main class="game-card" role="main" aria-labelledby="game-title">
      <header class="card-header">
        <h1 id="game-title">Maple Mii Town</h1>
        <div class="header-controls">
          <select id="game-mode-select" title="Game mode">
            <option value="manual">Manual</option>
            <option value="auto">Automatic</option>
          </select>
          <button id="save-btn" class="btn secondary">Save</button>
          <button id="load-btn" class="btn secondary">Load</button>
          <button id="export-btn" class="btn secondary">Export</button>
          <button id="import-btn" class="btn secondary">Import</button>
        </div>
      </header>

      <div class="left-col">
        <section class="mii-area">
          <div class="mii-wrap" id="mii-wrap" aria-hidden="true">
            <div id="mii-avatar" class="avatar-svg"></div>
          </div>

          <div class="stats">
            <div class="stat">
              <div class="label">Name</div>
              <div id="mii-name" class="value">—</div>
            </div>
            <div class="stat">
              <div class="label">Happiness</div>
              <div id="happiness-stat" class="value">—</div>
            </div>
            <div class="stat">
              <div class="label">Hunger</div>
              <div id="hunger-stat" class="value">—</div>
            </div>
            <div class="stat">
              <div class="label">Social</div>
              <div id="social-stat" class="value">—</div>
            </div>
          </div>

          <div class="bars">
            <div class="bar-label">Happiness</div>
            <div class="bar-track"><div id="happiness-bar" class="bar-fill" style="width:0%"></div></div>

            <div class="bar-label">Hunger (full = left)</div>
            <div class="bar-track"><div id="hunger-bar" class="bar-fill" style="width:0%"></div></div>

            <div class="bar-label">Social</div>
            <div class="bar-track"><div id="social-bar" class="bar-fill" style="width:0%"></div></div>
          </div>
        </section>

        <section class="create-area">
          <h2>Create a Mii</h2>
          <div class="form-row">
            <input id="mii-name-input" placeholder="Name" />
            <select id="mii-gender-select">
              <option value="male">Male</option>
              <option value="female">Female</option>
            </select>
            <select id="mii-personality-select">
              <option value="easygoing">Easygoing</option>
              <option value="energetic">Energetic</option>
              <option value="laid-back">Laid-back</option>
              <option value="stubborn">Stubborn</option>
            </select>
            <button id="create-mii-btn" class="btn">Add</button>
          </div>
          <div class="creation-status">
            Residents: <span id="resident-count">0</span>
            &nbsp;•&nbsp; Money: $<span id="money-stat">0</span>
          </div>
        </section>
      </div>

      <div class="right-col">
        <section class="dialog">
          <div id="mii-message" class="dialog-text">Welcome — create a Mii to begin.</div>
          <div class="dialog-controls">
            <select id="mii-select" aria-label="Select resident"></select>
            <button id="feed-btn" class="btn">Feed</button>
            <button id="play-btn" class="btn">Play</button>
            <button id="chat-btn" class="btn">Chat</button>
            <button id="work-btn" class="btn secondary">Work</button>
            <button id="sleep-btn" class="btn secondary">Toggle Sleep</button>
            <button id="party-btn" class="btn" title="Throw party (+150)">$ Party</button>
            <button id="shop-open-btn" class="btn secondary">Store</button>
          </div>
        </section>

        <section class="inventory-panel">
          <h3>Inventory</h3>
          <div id="inventory-list" class="inventory-list"></div>
        </section>

        <section class="resident-list">
          <h3>Town Residents</h3>
          <div id="resident-list"></div>
        </section>
      </div>

      <div id="store-modal" class="modal hidden" aria-hidden="true">
        <div class="modal-inner">
          <button class="modal-close" id="store-close-btn">Close</button>
          <h3>Maple Shop</h3>
          <div id="store-items" class="store-items"></div>
        </div>
      </div>

      <!-- Import modal -->
      <div id="import-modal" class="modal hidden" aria-hidden="true">
        <div class="modal-inner">
          <button class="modal-close" id="import-close-btn">Close</button>
          <h3>Import Save</h3>
          <textarea id="import-text" placeholder="Paste exported JSON here" rows="8" style="width:100%"></textarea>
          <div style="margin-top:10px; display:flex; gap:8px; justify-content:flex-end;">
            <button id="do-import-btn" class="btn">Import</button>
            <button id="clear-import-btn" class="btn secondary">Clear</button>
          </div>
        </div>
      </div>

    </main>
  </div>

  <script src="script.js"></script>
</body>
</html>
