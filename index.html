<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mii Town Simulator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>ğŸ˜ï¸ Mii Town on Maple Island ğŸ˜ï¸</h1>
        
        <div id="creation-screen" class="screen">
            <h2>Start Your Town</h2>
            
            <label for="game-mode-select">Game Mode:</label>
            <select id="game-mode-select">
                <option value="manual">Manual âœ‹ (You manage everything)</option>
                <option value="automatic">Automatic ğŸ¤– (Miis act autonomously)</option>
            </select>

            <label for="game-difficulty-select">Difficulty:</label>
            <select id="game-difficulty-select">
                <option value="normal">Normal ğŸ˜… (Standard start)</option>
                <option value="easy">Easy ğŸ˜ (Start with Caretaker & extra cash)</option>
            </select>
            
            <hr>

            <h2>Create Your First Mii</h2>
            <p>You need at least one Mii to start your town.</p>
            <label for="mii-name-input">Mii Name:</label>
            <input type="text" id="mii-name-input" placeholder="e.g., Tom, Amy, Bob" maxlength="15">
            
            <label for="mii-gender-select">Gender:</label>
            <select id="mii-gender-select">
                <option value="male">Male â™‚ï¸</option>
                <option value="female">Female â™€ï¸</option>
            </select>
            
            <label for="mii-personality-select">Personality:</label>
            <select id="mii-personality-select">
                <option value="easygoing">Easygoing</option>
                <option value="energetic">Energetic</option>
                <option value="laid-back">Laid-back</option>
                <option value="stubborn">Stubborn</option>
            </select>
            
            <button onclick="addMiiToTown()">Add Mii to Town</button>
            <hr>
            <p>Current Residents: <span id="resident-count">0</span></p>
            <button onclick="startGame()" id="start-town-button" disabled>Start Town Life (Requires 1+ Mii)</button>
        </div>

        <div id="game-screen" class="screen hidden">
            
            <div class="town-status-bar">
                <p>ğŸ’° Money: <span id="money-stat">0</span></p>
                <button onclick="workForMoney()">ğŸ’¼ Work (Job Pay)</button>
                <button onclick="openInvestmentModal()">ğŸ“ˆ Invest</button>
                <button onclick="openBankModal()">ğŸ¦ Bank Savings</button>  <button onclick="throwParty()" id="party-button">ğŸ‰ Throw Party (ğŸ’°150)</button> </div>
            
            <div class="management-status">
                <p>Caretaker Status: 
                    <span id="caretaker-status"></span>
                </p>
            </div>

            <div class="resident-list-area">
                <h3>Town Residents</h3>
                <div id="resident-list" class="resident-grid">
                    </div>
            </div>

            <div class="mii-card">
                <h2 id="mii-name"></h2>
                
                <div id="mii-request-box" class="request-box hidden">
                    <p>I want a <span id="requested-item-name"></span>!</p>
                </div>
                
                <div class="mii-avatar">
                    <div class="face">
                        <div class="eyes"></div>
                        <div class="mouth"></div>
                    </div>
                </div>
                
                <div class="stats">
                    <p>Gender: <span id="gender-stat"></span></p>
                    <p>Personality: <span id="personality-stat"></span></p>
                    <p>Job: <span id="job-stat"></span></p> <p>Relationship: <span id="relationship-stat">Single</span></p> 
                    
                    <p>â¤ï¸ Happiness: <span id="happiness-stat"></span></p>
                    <div class="bar-container"><div id="happiness-bar" class="stat-bar"></div></div>
                    
                    <p>ğŸ” Hunger: <span id="hunger-stat"></span></p>
                    <div class="bar-container"><div id="hunger-bar" class="stat-bar"></div></div>
                </div>
                
                <p id="mii-message" class="message"></p>
                
                <div class="mii-actions">
                    <button onclick="openRelationshipModal()">ğŸ‘¥ Relationships</button>
                    <button onclick="openJobModal()">ğŸ’¼ Job Management</button> <button onclick="openStore()">ğŸ›’ Maple Store</button>
                    <button onclick="toggleSleep()" id="sleep-button">ğŸ›Œ Go to Sleep</button>
                </div>
                
                <div class="inventory-area">
                    <h4>Mii Inventory</h4>
                    <div id="inventory-list" class="inventory-grid">
                        </div>
                </div>
            </div>

            <div id="town-events" class="town-events-area">
                <h3>Town Events Log</h3>
                <div id="event-log-container">
                    <p class="event-message">No events yet. Start the town!</p>
                </div>
            </div>
            <div class="mii-selector">
                <label for="mii-select">Select Mii to Interact:</label>
                <select id="mii-select" onchange="switchMii()"></select>
                <button onclick="openNewMiiCreation()">+ Add New Mii</button>
            </div>
            
            <div class="save-area">
                <p id="save-message">Welcome to Maple Island!</p>
                <button onclick="saveGame()">ğŸ’¾ Save Game</button>
                <button onclick="resetGame()">ğŸ›‘ Reset Town</button>
            </div>
        </div>

        <div id="store-modal" class="modal hidden">
            <div class="modal-content">
                <h2>ğŸ›’ Maple Store</h2>
                <p>Town Money: ğŸ’°<span id="store-money">0</span></p>
                
                <div id="store-items" class="inventory-grid">
                    </div>
                <button onclick="closeStore()">Close Store</button>
            </div>
        </div>

        <div id="bank-modal" class="modal hidden">
            <div class="modal-content">
                <h2>ğŸ¦ Town Bank Savings</h2>
                <p>Current Town Money: ğŸ’°<span id="bank-current-money">0</span></p>
                <p>Savings Total: ğŸ’°<span id="savings-total">0</span></p>
                <p class="small-note">Savings earn 1% interest per tick.</p>
                <hr>
                
                <label for="savings-deposit-amount">Amount to Deposit:</label>
                <input type="number" id="savings-deposit-amount" min="10" placeholder="Min 10 Gold">
                <button onclick="depositSavings()">Deposit</button>
                <hr>
                <label for="savings-withdraw-amount">Amount to Withdraw:</label>
                <input type="number" id="savings-withdraw-amount" min="10" placeholder="Min 10 Gold">
                <button onclick="withdrawSavings()">Withdraw</button>
                <button onclick="closeBankModal()">Close Bank</button>
            </div>
        </div>

        <div id="new-mii-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Create New Resident</h2>
                <label for="new-mii-name-input">Mii Name:</label>
                <input type="text" id="new-mii-name-input" placeholder="e.g., Tom, Amy, Bob" maxlength="15">
            
                <label for="new-mii-gender-select">Gender:</label>
                <select id="new-mii-gender-select">
                    <option value="male">Male â™‚ï¸</option>
                    <option value="female">Female â™€ï¸</option>
                </select>
                
                <label for="new-mii-personality-select">Personality:</label>
                <select id="new-mii-personality-select">
                    <option value="easygoing">Easygoing</option>
                    <option value="energetic">Energetic</option>
                    <option value="laid-back">Laid-back</option>
                    <option value="stubborn">Stubborn</option>
                </select>

                <button onclick="addNewMii()">Add to Town</button>
                <button onclick="closeNewMiiModal()">Cancel</button>
            </div>
        </div>

        <div id="investment-modal" class="modal hidden">
            <div class="modal-content">
                <h2>ğŸ“ˆ Town Investment Fund</h2>
                <p>Current Funds: ğŸ’°<span id="investment-total">0</span></p>
                <p>Passive Income: ğŸ’°<span id="investment-rate">0</span>/tick</p>

                <label for="investment-amount">Amount to Invest:</label>
                <input type="number" id="investment-amount" min="10" placeholder="Min 10 Gold">
                <p class="small-note">Note: Every ğŸ’°100 invested yields ğŸ’°1/tick passive income.</p>
                <button onclick="makeInvestment()">Invest Funds</button>
                <button onclick="closeInvestmentModal()">Close</button>
            </div>
        </div>

        <div id="relationship-modal" class="modal hidden">
            <div class="modal-content">
                <h2 id="rel-mii-name"></h2>
                <p>Current Relationship Status: <span id="rel-status"></span></p>
                
                <div id="rel-actions">
                    </div>
                
                <div id="rel-friendship-list" class="rel-list">
                    <h3>Friends:</h3>
                    <ul id="rel-friends-ul"></ul>
                </div>

                <button onclick="closeRelationshipModal()">Close</button>
            </div>
        </div>
        
        <div id="job-modal" class="modal hidden">
            <div class="modal-content">
                <h2 id="job-mii-name">Job Assignment</h2>
                <p>Current Job: <span id="job-current-job"></span></p>
                <hr>
                <h3>Available Jobs:</h3>
                <div id="job-list" class="inventory-grid">
                    </div>
                <button onclick="closeJobModal()">Close</button>
            </div>
        </div>

    </div>

    <script src="script.js"></script>
</body>
</html>